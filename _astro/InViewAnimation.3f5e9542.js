import{j as c}from"./jsx-runtime.b9e88e07.js";import{r as l}from"./index.03be2d59.js";import{c as v}from"./cn.5beeaabb.js";import{r as I}from"./resolve-element.f8ac943f.js";import{m as x}from"./motion.86f98872.js";const b={some:0,all:1};function E(e,t,{root:a,margin:d,amount:i="some"}={}){const o=I(e),s=new WeakMap,u=f=>{f.forEach(n=>{const m=s.get(n.target);if(n.isIntersecting!==!!m)if(n.isIntersecting){const h=t(n);typeof h=="function"?s.set(n.target,h):r.unobserve(n.target)}else m&&(m(n),s.delete(n.target))})},r=new IntersectionObserver(u,{root:a,rootMargin:d,threshold:typeof i=="number"?i:b[i]});return o.forEach(f=>r.observe(f)),()=>r.disconnect()}function w(e,{root:t,margin:a,amount:d,once:i=!1}={}){const[o,s]=l.useState(!1);return l.useEffect(()=>{if(!e.current||i&&o)return;const u=()=>(s(!0),i?void 0:()=>s(!1)),r={root:t&&t.current||void 0,margin:a,amount:d};return E(e.current,u,r)},[t,e,a,i]),o}const y=e=>{const t=l.useRef(null);return w(t,{once:!0}),c.jsx("div",{ref:t,className:v("text-slate-900",e.className),children:c.jsx(x.div,{initial:"hidden",animate:"visible",transition:{duration:1,delay:e.delay},variants:{visible:{opacity:1,x:0},hidden:{opacity:0,x:-100}},className:"w-full",children:e.children})})},R=e=>{const t=l.useRef(null);return w(t,{once:!0}),c.jsx("div",{ref:t,className:v("text-slate-900",e.className),children:c.jsx(x.div,{initial:"hidden",animate:"visible",transition:{duration:1,delay:e.delay},variants:{visible:{opacity:1,y:0},hidden:{opacity:0,y:100}},className:"w-full",children:e.children})})};export{R as ItemInViewAnimation,y as ListInViewAnimation};
